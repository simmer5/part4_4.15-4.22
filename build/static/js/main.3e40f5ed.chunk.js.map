{"version":3,"sources":["components/Blog.js","components/Notification.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","title","author","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","margin","width","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","setToken","newToken","login","credentials","App","useState","blogs","setBlogs","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","setMessage","username","setUsername","password","setPassword","user","setUser","useEffect","blogService","loggedUserJson","window","localStorage","getItem","JSON","parse","handleLogin","event","preventDefault","loginService","setItem","stringify","setTimeout","addBlog","blogObject","url","id","length","returnedBlog","concat","onSubmit","type","value","name","onChange","target","map","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e40f5ed.chunk.js","sourcesContent":["import React from \"react\";\r\nconst Blog = ({ blog }) => (\r\n  <div>\r\n    <h2>Title:</h2> <p>{blog.title} </p>\r\n    <p>Author: {blog.author}</p>\r\n  </div>\r\n);\r\n\r\nexport default Blog;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  const styles = {\r\n    color: \"green\",\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    margin: \"auto\",\r\n    width: \"80vw\",\r\n  };\r\n\r\n  return message === null ? null : <div style={styles}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/blogs\";\r\n\r\nlet token = null; //private variable taip vadinamas\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`;\r\n};\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = async (newObject) => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  };\r\n  const response = await axios.post(baseUrl, newObject, config);\r\n  return response.data;\r\n};\r\n// const update = (id, newObject) => {\r\n//   const request = axios.put(`${baseUrl} /${id}`, newObject);\r\n//   return request.then((response) => response.data);\r\n// };\r\n\r\nexport default { getAll, create, setToken };\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/login\";\r\n\r\nconst login = async (credentials) => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n};\r\n\r\nexport default { login };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Blog from \"./components/Blog\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nimport blogService from \"./services/blogs\";\r\nimport loginService from \"./services/login\";\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n\r\n  const [newTitle, setNewTitle] = useState(\"\");\r\n  const [newAuthor, setNewAuthor] = useState(\"\");\r\n  const [newUrl, setNewUrl] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    blogService.getAll().then((blogs) => setBlogs(blogs));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJson = window.localStorage.getItem(\"loggedBlogAppUser\");\r\n    if (loggedUserJson) {\r\n      const user = JSON.parse(loggedUserJson);\r\n      setUser(user);\r\n      blogService.setToken(user.token);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const user = await loginService.login({ username, password });\r\n      window.localStorage.setItem(\"loggedBlogAppUser\", JSON.stringify(user));\r\n      blogService.setToken(user.token);\r\n      setUser(user);\r\n      setUsername(\"\");\r\n      setPassword(\"\");\r\n    } catch (exeption) {\r\n      setMessage(\"Wrong Credentials\");\r\n      setTimeout(() => {\r\n        setMessage(null);\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const loginForm = () => (\r\n    <form onSubmit={handleLogin}>\r\n      <div>\r\n        username\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"Password\"\r\n          onChange={({ target }) => setPassword(target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">login</button>\r\n    </form>\r\n  );\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault();\r\n    const blogObject = {\r\n      title: newTitle,\r\n      author: newAuthor,\r\n      url: newUrl,\r\n      id: blogs.length + 1,\r\n    };\r\n\r\n    blogService.create(blogObject).then((returnedBlog) => {\r\n      setBlogs(blogs.concat(returnedBlog));\r\n      setNewTitle(\"\");\r\n      setNewUrl(\"\");\r\n      setNewAuthor(\"\");\r\n    });\r\n  };\r\n\r\n  const blogForm = () => (\r\n    <form onSubmit={addBlog}>\r\n      <div>\r\n        Title:{\" \"}\r\n        <input\r\n          value={newTitle}\r\n          onChange={({ target }) => setNewTitle(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        Author:{\" \"}\r\n        <input\r\n          value={newAuthor}\r\n          onChange={({ target }) => setNewAuthor(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        Url:{\" \"}\r\n        <input\r\n          value={newUrl}\r\n          onChange={({ target }) => setNewUrl(target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">save new blog</button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Notification message={message} />\r\n      <h2>My Blogs Lis App</h2>\r\n\r\n      {user === null ? (\r\n        loginForm()\r\n      ) : (\r\n        <>\r\n          <div>\r\n            <p>{user.name} logged in.</p>\r\n            {blogForm()}\r\n          </div>\r\n          <div>\r\n            {blogs.map((blog) => (\r\n              <Blog key={blog.id} blog={blog} />\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}