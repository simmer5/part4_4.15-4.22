(this["webpackJsonppart2_2.19-2.20"]=this["webpackJsonppart2_2.19-2.20"]||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(16),c=n.n(u),o=(n(22),n(6)),l=n(3),i=function(e){var t=e.filterText,n=e.handelFilter;return r.a.createElement("div",null,"Filter: ",r.a.createElement("input",{value:t,onChange:n}))},s=function(e){var t=e.onFormSubmit,n=e.newName,a=e.handelNameChange,u=e.newNumber,c=e.handelNumberChange;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:a}),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:c}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Add")))},m=function(e){var t=e.label,n=e.handelBtnClick;return r.a.createElement("button",{onClick:n},t)},f=function(e){var t=e.name,n=e.number,a=e.idx,u=e.handelBtnClick;return r.a.createElement("p",{key:a},t," -> ",n," ",r.a.createElement(m,{label:"Delete Contact",handelBtnClick:u}))},d=function(e){var t=e.persons,n=e.filterText,a=e.handelBtnClick;return r.a.createElement("div",null,""===n?t.map((function(e,t){return r.a.createElement(f,{name:e.name,number:e.number,key:t,handelBtnClick:function(){return a(e.id)}})})):t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())})).map((function(e,t){return r.a.createElement(f,{name:e.name,number:e.number,key:t})})))},p=n(2),b=n.n(p),h=n(4),v=n(5),E=n.n(v),w="/api/persons",g={getAll:function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.a.get(w),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.a.post(w,t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(h.a)(b.a.mark((function e(t,n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.put("".concat(w,"/").concat(t),n),e.next=3,a;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteContact:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.a.delete("".concat(w,"/").concat(t)),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,margin:"auto",width:"80vw"}},t)},k=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),m=Object(l.a)(c,2),f=m[0],p=m[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),v=h[0],E=h[1],w=Object(a.useState)(""),k=Object(l.a)(w,2),y=k[0],O=k[1],j=Object(a.useState)(null),x=Object(l.a)(j,2),N=x[0],S=x[1];Object(a.useEffect)((function(){g.getAll().then((function(e){u(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement(C,{message:N}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(i,{filterText:y,handelFilter:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Names and Numbers"),r.a.createElement(d,{persons:n,filterText:y,handelBtnClick:function(e){window.confirm("Do you realy want to delete?")&&g.deleteContact(e).then((function(){u(n.filter((function(t){return t.id!==e})))}))}}),r.a.createElement("hr",null),r.a.createElement(s,{onFormSubmit:function(e){console.log("cia numberis",v),e.preventDefault();var t={name:f,number:v},a=n.find((function(e){return e.name===f}));a?window.confirm("".concat(f," - exists in your contacts. Do you want to update number?"))&&function(e){var t=Object(o.a)(Object(o.a)({},e),{},{number:v});g.update(e.id,t).then((function(t){u(n.map((function(n){return n.id!==e.id?n:t}))),S("Number updated."),setTimeout((function(){S(null)}),3e3)})).catch((function(e){alert("Error Alert!",e)}))}(a)||p("")||E(""):""===v||""===f?alert("Check your fields."):g.create(t).then((function(e){u(n.concat(e)),S("New Contact is added."),setTimeout((function(){S(null)}),3e3)})).catch((function(e){console.log("Cia erroras",e.response.data),S("This is my error from my server: ".concat(e.response.data.err)),setTimeout((function(){S(null)}),3e3)}))&&p("")||E("")},newName:f,newNumber:v,handelNameChange:function(e){p(e.target.value)},handelNumberChange:function(e){E(e.target.value)}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.411a08a9.chunk.js.map